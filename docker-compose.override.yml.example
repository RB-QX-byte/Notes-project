# ================================
# Docker Compose Override for Development
# This file is automatically used with docker-compose.yml
# ================================

services:
  server:
    build:
      target: builder  # Use builder stage for dev if needed
    volumes:
      # Mount source code for hot reloading
      - ./server/src:/app/src:ro
      # Persist local data directory
      - ./server/data:/app/data
    environment:
      - NODE_ENV=development
    command: ["npm", "run", "dev"]

  client:
    volumes:
      # Mount source for development
      - ./client/src:/app/src:ro
      - ./client/public:/app/public:ro
    environment:
      - VITE_API_URL=http://localhost:8000
      - VITE_SOCKET_URL=http://localhost:8000
